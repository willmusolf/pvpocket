{% extends "base.html" %}

{% block title %}Battle Simulator - PvPocket{% endblock %}

{% block extra_css %}
<link rel="stylesheet" crossorigin href="/static/battle-simulator/assets/index-DWliqZVw.css">
<style>
    /* Battle Simulator specific styles */
    .main-content {
        height: calc(100vh - 80px); /* Account for navbar with padding */
        overflow: hidden;
        padding: 0 !important; /* Remove main content padding for full screen */
    }
    
    /* Only override container padding for battle simulator */
    .main-content .container-fluid {
        padding: 0 !important;
        height: 100%;
    }
    
    #root {
        height: 100%;
        width: 100%;
        min-height: 100%;
    }
    
    /* Ensure React app CSS takes precedence */
    .battle-field {
        position: relative;
        z-index: 1;
    }
</style>
{% endblock %}

{% block content %}
<div id="root"></div>
{% endblock %}

{% block extra_js %}
<script>
    // Set up environment for React app
    window.FLASK_BASE_URL = "/static/";
    window.API_BASE_URL = "";  // Same domain as Flask
    
    // Fix loading issue by providing mock data immediately
    window.BATTLE_CONFIG = {
        mockMode: true,
        apiEndpoint: "/api/battle",
        serverUrl: window.location.origin
    };
</script>
<script type="module" crossorigin src="/static/battle-simulator/assets/index-DnlesckG.js"></script>
{% endblock %}