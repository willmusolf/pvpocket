{% extends "base.html" %}

{% block title %}Privacy Policy - PvPocket{% endblock %}

{% block extra_css %}
<style>
    .legal-wrapper {
        max-width: 1000px;
        margin: 2rem auto;
        padding: 0 1rem;
        height: calc(100vh - 120px);
        display: flex;
        gap: 2rem;
    }
    
    .legal-toc {
        width: 250px;
        background-color: var(--card-bg);
        border-radius: 0.75rem;
        border: 1px solid var(--border-color);
        padding: 1.5rem;
        height: fit-content;
        max-height: 70vh;
        overflow-y: auto;
        position: sticky;
        top: 2rem;
    }
    
    .legal-content {
        flex: 1;
        background-color: var(--card-bg);
        border-radius: 0.75rem;
        border: 1px solid var(--border-color);
        height: 100%;
        display: flex;
        flex-direction: column;
    }
    
    .legal-header {
        padding: 2rem 2rem 1rem 2rem;
        border-bottom: 1px solid var(--border-color);
    }
    
    .legal-body {
        flex: 1;
        overflow-y: auto;
        padding: 0 2rem 2rem 2rem;
    }
    
    .legal-content h1 {
        text-align: center;
        margin-bottom: 0.5rem;
        color: var(--text-color);
        font-size: 2rem;
    }
    
    .last-updated {
        text-align: center;
        color: var(--bs-secondary);
        font-style: italic;
        margin-bottom: 0;
        font-size: 0.9rem;
    }
    
    .toc-title {
        font-weight: bold;
        margin-bottom: 1rem;
        color: var(--bs-primary);
        font-size: 1.1rem;
    }
    
    .toc-item {
        display: block;
        padding: 0.4rem 0.8rem;
        margin-bottom: 0.3rem;
        color: var(--text-color);
        text-decoration: none;
        border-radius: 0.5rem;
        font-size: 0.9rem;
        transition: all 0.2s ease;
    }
    
    .toc-item:hover {
        background-color: var(--bs-primary);
        color: white;
        text-decoration: none;
    }
    
    .section-header {
        color: var(--bs-primary);
        margin-top: 2rem;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid var(--border-color);
        font-size: 1.4rem;
    }
    
    .section-header:first-of-type {
        margin-top: 1rem;
    }
    
    .legal-body h3 {
        color: var(--text-color);
        margin-top: 1.5rem;
        margin-bottom: 0.8rem;
        font-size: 1.1rem;
    }
    
    .legal-body p, .legal-body li {
        line-height: 1.6;
        margin-bottom: 0.8rem;
        font-size: 0.95rem;
    }
    
    .highlight-box {
        background-color: var(--settings-bg);
        padding: 1rem;
        border-radius: 0.5rem;
        border-left: 4px solid var(--bs-primary);
        margin: 1rem 0;
        font-size: 0.9rem;
    }
    
    .contact-info {
        background-color: var(--settings-bg);
        padding: 1.5rem;
        border-radius: 0.5rem;
        border: 1px solid var(--border-color);
        margin-top: 2rem;
    }
    
    .collapsible-section {
        margin-bottom: 1.5rem;
    }
    
    .section-toggle {
        background: none;
        border: none;
        width: 100%;
        text-align: left;
        padding: 0;
        color: inherit;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    
    .section-content {
        display: none;
        padding-top: 1rem;
    }
    
    .section-content.show {
        display: block;
    }
    
    .toggle-icon {
        transition: transform 0.3s ease;
    }
    
    .toggle-icon.rotated {
        transform: rotate(180deg);
    }
    
    /* Mobile responsive */
    @media (max-width: 768px) {
        .legal-wrapper {
            flex-direction: column;
            height: auto;
            margin: 1rem auto;
            padding: 0 1rem;
        }
        
        .legal-toc {
            width: 100%;
            position: relative;
            max-height: none;
            margin-bottom: 1rem;
        }
        
        .legal-content {
            height: 70vh;
        }
        
        .legal-header {
            padding: 1.5rem 1.5rem 1rem 1.5rem;
        }
        
        .legal-body {
            padding: 0 1.5rem 1.5rem 1.5rem;
        }
    }
    
    /* Dark mode improvements */
    [data-theme="dark"] .legal-content h1,
    [data-theme="dark"] .legal-content h2,
    [data-theme="dark"] .legal-content h3,
    [data-theme="dark"] .legal-content p,
    [data-theme="dark"] .legal-content li,
    [data-theme="dark"] .legal-body,
    [data-theme="dark"] .legal-header,
    [data-theme="dark"] .toc-item {
        color: var(--text-color);
    }
    
    [data-theme="dark"] .contact-info,
    [data-theme="dark"] .legal-toc,
    [data-theme="dark"] .legal-content {
        background-color: var(--card-bg);
        border-color: var(--border-color);
    }
    
    [data-theme="dark"] .highlight-box {
        background-color: rgba(13, 110, 253, 0.2);
    }
    
    [data-theme="dark"] .text-muted,
    [data-theme="dark"] .legal-content .text-muted,
    [data-theme="dark"] .legal-body .text-muted {
        color: #adb5bd !important;
    }
    
    [data-theme="dark"] .last-updated {
        color: #adb5bd;
    }
    
    [data-theme="dark"] .section-header {
        color: var(--bs-primary);
        border-bottom-color: var(--border-color);
    }
    
    /* Scrollbar styling */
    .legal-body::-webkit-scrollbar,
    .legal-toc::-webkit-scrollbar {
        width: 8px;
    }
    
    .legal-body::-webkit-scrollbar-track,
    .legal-toc::-webkit-scrollbar-track {
        background: var(--settings-bg);
        border-radius: 4px;
    }
    
    .legal-body::-webkit-scrollbar-thumb,
    .legal-toc::-webkit-scrollbar-thumb {
        background: var(--border-color);
        border-radius: 4px;
    }
    
    .legal-body::-webkit-scrollbar-thumb:hover,
    .legal-toc::-webkit-scrollbar-thumb:hover {
        background: var(--bs-secondary);
    }
</style>
{% endblock %}

{% block content %}
<div class="legal-wrapper">
    <!-- Table of Contents -->
    <div class="legal-toc">
        <div class="toc-title">Quick Navigation</div>
        <a href="#section-1" class="toc-item">1. Information We Collect</a>
        <a href="#section-2" class="toc-item">2. How We Use Information</a>
        <a href="#section-3" class="toc-item">3. Information Sharing</a>
        <a href="#section-4" class="toc-item">4. Data Security</a>
        <a href="#section-5" class="toc-item">5. Your Rights</a>
        <a href="#section-6" class="toc-item">6. Advertising & Third Parties</a>
        <a href="#section-7" class="toc-item">7. Children's Privacy</a>
        <a href="#section-8" class="toc-item">8. International Users</a>
        <a href="#section-9" class="toc-item">9. Policy Changes</a>
        <a href="#section-10" class="toc-item">10. Third-Party Services</a>
        <a href="#section-11" class="toc-item">11. Contact Us</a>
        <a href="#section-12" class="toc-item">12. Legal Basis (GDPR)</a>
    </div>
    
    <!-- Main Content -->
    <div class="legal-content">
        <div class="legal-header">
            <h1>Privacy Policy</h1>
            <p class="last-updated">Last Updated: August 18, 2025</p>
        </div>
        
        <div class="legal-body">
            <p>At PvPocket, we are committed to protecting your privacy and ensuring transparency about how we collect, use, and safeguard your personal information. This Privacy Policy explains our practices regarding data collection and usage when you use our Pokemon Trading Card Game (TCG) companion application.</p>
    
    <p>At PvPocket, we are committed to protecting your privacy and ensuring transparency about how we collect, use, and safeguard your personal information. This Privacy Policy explains our practices regarding data collection and usage when you use our Pokemon Trading Card Game (TCG) companion application.</p>

            <h2 class="section-header" id="section-1">1. Information We Collect</h2>
    
    <h3>1.1 Account Information</h3>
    <p>When you create an account with PvPocket, we collect:</p>
    <ul>
        <li><strong>Google Account Information:</strong> We use Google OAuth for authentication, collecting your name, email address, and profile picture</li>
        <li><strong>Username:</strong> You create a unique username for your PvPocket profile</li>
        <li><strong>Profile Preferences:</strong> Theme settings (dark/light mode) and other customization options</li>
    </ul>

    <h3>1.2 Game Data</h3>
    <p>To provide our Pokemon TCG services, we store:</p>
    <ul>
        <li><strong>Deck Information:</strong> Custom decks you create, including card selections and deck names</li>
        <li><strong>Collection Data:</strong> Pokemon cards you've marked as owned or wanted</li>
        <li><strong>Battle History:</strong> Results from battles with our AI battle simulator</li>
        <li><strong>Friend Connections:</strong> Your friend list and shared deck access permissions</li>
        <li><strong>Usage Statistics:</strong> Anonymized data about feature usage and popular deck archetypes</li>
    </ul>

    <h3>1.3 Technical Information</h3>
    <p>We automatically collect certain technical information:</p>
    <ul>
        <li><strong>Device Information:</strong> Browser type, operating system, screen resolution</li>
        <li><strong>Usage Analytics:</strong> Pages visited, time spent on features, click patterns</li>
        <li><strong>Performance Data:</strong> Load times, errors, and app performance metrics</li>
        <li><strong>IP Address:</strong> For security and analytics purposes</li>
    </ul>

    <div class="highlight-box">
        <strong>Pokemon TCG Focus:</strong> PvPocket is specifically designed for Pokemon Trading Card Game enthusiasts. All game data relates to Pokemon cards, deck strategies, and competitive play analysis.
    </div>

            <h2 class="section-header" id="section-2">2. How We Use Your Information</h2>
    
    <h3>2.1 Core App Functionality</h3>
    <ul>
        <li>Provide deck building tools and save your custom Pokemon TCG decks</li>
        <li>Enable battle simulation against AI opponents</li>
        <li>Track your Pokemon card collection and wishlist</li>
        <li>Connect you with friends for deck sharing and collaboration</li>
        <li>Display meta-game statistics and popular deck trends</li>
    </ul>

    <h3>2.2 Service Improvement</h3>
    <ul>
        <li>Analyze usage patterns to improve our Pokemon TCG features</li>
        <li>Optimize app performance and loading speeds</li>
        <li>Develop new features based on community needs</li>
        <li>Provide customer support and troubleshooting</li>
    </ul>

    <h3>2.3 Communications</h3>
    <ul>
        <li>Send important service updates and maintenance notices</li>
        <li>Notify you about new Pokemon TCG set releases and updates</li>
        <li>Respond to your support requests and feedback</li>
        <li>Share Pokemon TCG strategy tips and community highlights (with your consent)</li>
    </ul>

            <h2 class="section-header" id="section-3">3. Information Sharing and Disclosure</h2>
    
    <h3>3.1 With Other Users</h3>
    <p>Certain information is shared to enable social features:</p>
    <ul>
        <li><strong>Public Profile:</strong> Your username and profile picture are visible to other users</li>
        <li><strong>Shared Decks:</strong> Decks you choose to share publicly or with friends</li>
        <li><strong>Leaderboards:</strong> Your ranking in battles or tournaments (anonymized or with consent)</li>
    </ul>

    <h3>3.2 Service Providers</h3>
    <p>We work with trusted third-party services:</p>
    <ul>
        <li><strong>Google Cloud Platform:</strong> For secure hosting and data storage</li>
        <li><strong>Firebase:</strong> For real-time data sync and authentication</li>
        <li><strong>Google Analytics:</strong> For anonymized usage analytics (you can opt-out)</li>
    </ul>

    <h3>3.3 Legal Requirements</h3>
    <p>We may disclose information when required by law or to:</p>
    <ul>
        <li>Protect the safety and security of our users</li>
        <li>Prevent fraud or abuse of our services</li>
        <li>Comply with legal processes and law enforcement requests</li>
        <li>Protect our intellectual property rights</li>
    </ul>

            <h2 class="section-header" id="section-4">4. Data Security and Storage</h2>
    
    <h3>4.1 Security Measures</h3>
    <p>We implement industry-standard security practices:</p>
    <ul>
        <li><strong>Encryption:</strong> All data is encrypted in transit and at rest</li>
        <li><strong>Access Controls:</strong> Strict limitations on who can access your data</li>
        <li><strong>Regular Audits:</strong> Periodic security assessments and updates</li>
        <li><strong>Secure Authentication:</strong> Google OAuth integration with secure token management</li>
    </ul>

    <h3>4.2 Data Location</h3>
    <p>Your data is primarily stored on Google Cloud Platform servers in the United States, with automatic backups for data protection and disaster recovery.</p>

            <h2 class="section-header" id="section-5">5. Your Rights and Choices</h2>
    
    <h3>5.1 Account Control</h3>
    <ul>
        <li><strong>Access:</strong> View all your stored data through your profile settings</li>
        <li><strong>Update:</strong> Modify your username, preferences, and deck information</li>
        <li><strong>Delete:</strong> Remove specific decks, clear your collection, or delete your account</li>
        <li><strong>Export:</strong> Download your deck data in standard formats</li>
    </ul>

    <h3>5.2 Privacy Settings</h3>
    <ul>
        <li>Control who can see your decks (private, friends-only, or public)</li>
        <li>Opt out of analytics tracking (though this may limit some features)</li>
        <li>Manage email notification preferences</li>
        <li>Choose whether to appear in leaderboards or community features</li>
    </ul>

    <h3>5.3 Data Portability</h3>
    <p>You can export your Pokemon TCG data at any time, including:</p>
    <ul>
        <li>Complete deck lists in various formats (text, JSON, CSV)</li>
        <li>Collection tracking data</li>
        <li>Battle history and statistics</li>
        <li>Account preferences and settings</li>
    </ul>

            <h2 class="section-header" id="section-6">6. Advertising and Third-Party Services</h2>
    
    <p>PvPocket displays advertisements to support our free service. We do not use cookies or tracking technologies on our site.</p>
    
    <h3>6.1 Google AdSense</h3>
    <p>We use Google AdSense to display advertisements on our site. Google, as a third-party vendor, may use data about your visits to this and other websites to serve relevant ads. Google's advertising technology enables them to serve ads based on your interests without using cookies on our site.</p>

    <h3>6.2 Your Advertising Choices</h3>
    <p>You have control over the ads you see:</p>
    <ul>
        <li><strong>Google Ads Settings:</strong> Visit <a href="https://www.google.com/settings/ads" target="_blank" rel="noopener">Google's Ads Settings</a> to control personalized advertising</li>
        <li><strong>Industry Opt-Out:</strong> Use <a href="http://www.aboutads.info/choices/" target="_blank" rel="noopener">aboutads.info</a> to opt out of interest-based advertising</li>
        <li><strong>Do Not Track:</strong> We respect browser "Do Not Track" signals where applicable</li>
    </ul>

    <h3>6.3 No Data Sale</h3>
    <p><strong>We do not sell your personal information.</strong> We never have and never will sell, rent, or lease your personal data to third parties for marketing or any other purposes.</p>

    <h3>6.4 Third-Party Data Processing</h3>
    <p>We work with trusted service providers who process data on our behalf:</p>
    <ul>
        <li><strong>Google Cloud Platform:</strong> Hosting and data storage</li>
        <li><strong>Firebase:</strong> Authentication and database services</li>
        <li><strong>Google AdSense:</strong> Advertisement serving</li>
    </ul>
    
    <div class="highlight-box">
        <strong>CCPA Notice:</strong> California residents have specific rights regarding their personal information. We do not sell personal information as defined by the California Consumer Privacy Act (CCPA).
    </div>

            <h2 class="section-header" id="section-7">7. Children's Privacy</h2>
    
    <p>While Pokemon TCG is enjoyed by players of all ages, PvPocket is designed for users 13 and older. We do not knowingly collect personal information from children under 13. If you are a parent and believe your child has provided personal information, please contact us immediately.</p>

            <h2 class="section-header" id="section-8">8. International Users</h2>
    
    <p>PvPocket is primarily intended for users in the United States. If you access our service from other countries, your data may be transferred to and processed in the United States, which may have different data protection laws than your country.</p>

            <h2 class="section-header" id="section-9">9. Changes to This Privacy Policy</h2>
    
    <p>We may update this Privacy Policy periodically to reflect changes in our practices or legal requirements. We will notify you of significant changes through:</p>
    <ul>
        <li>Email notifications to registered users</li>
        <li>Prominent notices on our homepage</li>
        <li>In-app notifications when you next log in</li>
    </ul>
    
    <p>Continued use of PvPocket after changes indicates your acceptance of the updated Privacy Policy.</p>

            <h2 class="section-header" id="section-10">10. Third-Party Services</h2>
    
    <h3>10.1 Pokemon Company Integration</h3>
    <p>PvPocket uses publicly available Pokemon TCG card data and images for educational and competitive analysis purposes. We are not affiliated with or endorsed by The Pokemon Company, Nintendo, Game Freak, or Creatures Inc.</p>

    <h3>10.2 Google AdSense and Advertising</h3>
    <p>We use Google AdSense to display advertisements on our site. Google may use data about your visits to this and other websites to serve relevant ads based on your interests. While we do not use cookies ourselves, Google's advertising technology may use various signals to provide personalized advertising.</p>
    
    <p>You may opt out of personalized advertising by visiting <a href="https://www.google.com/settings/ads" target="_blank" rel="noopener">Google's Ads Settings</a>. You can also opt out of interest-based advertising from participating companies by visiting <a href="http://www.aboutads.info/choices/" target="_blank" rel="noopener">www.aboutads.info</a>.</p>

    <h3>10.3 External Links</h3>
    <p>Our app may contain links to Pokemon TCG resources, tournament sites, or card databases. These external sites have their own privacy policies, and we are not responsible for their practices.</p>

            <div class="contact-info">
                <h2 class="section-header" style="margin-top: 0;" id="section-11">11. Contact Us</h2>
        
        <p>If you have questions about this Privacy Policy or our data practices, please contact us through our support page.</p>
        
        <div class="text-center mt-4">
            <a href="{{ url_for('main.support') }}" class="btn btn-primary btn-lg">
                <i class="fas fa-envelope me-2"></i>Contact Support
            </a>
            <a href="{{ url_for('main.faq') }}" class="btn btn-outline-primary btn-lg ms-3">
                <i class="fas fa-question-circle me-2"></i>View FAQ
            </a>
        </div>
        
        <div class="highlight-box mt-4">
            <strong>Response Time:</strong> We typically respond to privacy-related inquiries within 2-3 business days. For GDPR/CCPA requests, please specify this in your support message.
        </div>
    </div>

            <h2 class="section-header" id="section-12">12. Legal Basis for Processing (GDPR)</h2>
    
    <p>For users in the European Union, we process your personal data based on:</p>
    <ul>
        <li><strong>Consent:</strong> When you agree to use our services and create an account</li>
        <li><strong>Contract Performance:</strong> To provide the Pokemon TCG features you've requested</li>
        <li><strong>Legitimate Interest:</strong> To improve our services and prevent fraud</li>
        <li><strong>Legal Obligation:</strong> When required by law or regulation</li>
    </ul>

            <p class="mt-4 text-center">
                <small class="text-muted">
                    This Privacy Policy is effective as of August 18, 2025, and applies to all users of PvPocket.<br>
                    Pokemon and all related characters are trademarks of The Pokemon Company.
                </small>
            </p>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Smooth scrolling for TOC links
    document.querySelectorAll('.toc-item').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                targetElement.scrollIntoView({ behavior: 'smooth' });
            }
        });
    });
});
</script>
{% endblock %}